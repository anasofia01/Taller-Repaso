(()=>{"use strict";var e={841:(e,t,i)=>{i.r(t),i.d(t,{default:()=>s});var n=i(601),o=i.n(n),r=i(314),a=i.n(r)()(o());a.push([e.id,"",""]);const s=a},843:(e,t,i)=>{i.r(t),i.d(t,{default:()=>s});var n=i(601),o=i.n(n),r=i(314),a=i.n(r)()(o());a.push([e.id,"",""]);const s=a},523:(e,t,i)=>{i.r(t),i.d(t,{default:()=>s});var n=i(601),o=i.n(n),r=i(314),a=i.n(r)()(o());a.push([e.id,"",""]);const s=a},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);n&&a[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},601:e=>{e.exports=function(e){return e[1]}},936:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;const o=n(i(841));var r;!function(e){e.Title="Title",e.original_title="original_title",e.release_date="release_date",e.description="description",e.director="director",e.people="people"}(r||(t.Attribute=r={}));class a extends HTMLElement{static get observedAttributes(){return Object.keys({Title:null,original_title:null,release_date:null,description:null,director:null,people:null})}constructor(){super(),this.attachShadow({mode:"open"})}attributeChangedCallback(e,t,i){e===r.people?this.people=i?JSON.parse(i):void 0:this[e]=i,this.render()}connectedCallback(){this.render()}render(){var e;this.shadowRoot&&(this.shadowRoot.innerHTML=`\n      <figure>\n      <h3>${this.Title}</h3>\n      <div class = "container-info">\n      <span>Original Title: ${this.original_title}</span>\n      <span>Release Date: ${this.release_date}</span>\n      <p>Description: ${this.description}</p>\n      <span>Director: ${this.director}</span>\n      </div>\n      </figure>\n      `);const t=this.ownerDocument.createElement("styles");t.innerHTML=o.default,null===(e=this.shadowRoot)||void 0===e||e.appendChild(t)}}customElements.define("single-card-film",a),t.default=a},402:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AttributePeople=void 0;const o=n(i(843));var r;!function(e){e.name="name",e.gender="gender"}(r||(t.AttributePeople=r={}));class a extends HTMLElement{static get observedAttributes(){return Object.keys({name:null,gender:null})}constructor(){super(),this.attachShadow({mode:"open"})}attributeChangedCallback(e,t,i){this[e]=i,this.render()}connectedCallback(){this.render()}render(){var e;this.shadowRoot&&(this.shadowRoot.innerHTML=`\n      <figure>\n      <div class = "container-info">\n      <span>Name: ${this.name}</span>\n      <span>Gender: ${this.gender}</span>\n      </div>\n      </figure>\n      `);const t=this.ownerDocument.createElement("styles");t.innerHTML=o.default,null===(e=this.shadowRoot)||void 0===e||e.appendChild(t)}}customElements.define("single-card-people",a),t.default=a},785:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PeopleCard=t.FilmCard=void 0;var o=i(936);Object.defineProperty(t,"FilmCard",{enumerable:!0,get:function(){return n(o).default}});var r=i(402);Object.defineProperty(t,"PeopleCard",{enumerable:!0,get:function(){return n(r).default}})},462:function(e,t){var i=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getFilms=void 0,t.getFilms=()=>i(void 0,void 0,void 0,(function*(){try{const e=yield fetch("https://ghibliapi.vercel.app/films").then((e=>e.json()));return console.log(e),e}catch(e){console.error(e)}}))},642:function(e,t){var i=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPeople=void 0,t.getPeople=e=>i(void 0,void 0,void 0,(function*(){try{return yield fetch(e).then((e=>e.json()))}catch(e){console.error(e)}}))},156:function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),i(785);const r=i(936),a=i(402),s=o(i(523)),l=i(642),c=i(482),d=i(997);class u extends HTMLElement{constructor(){super(),this.cards=[],this.peopleList=[],this.favoriteCards=[],this.attachShadow({mode:"open"}),(0,c.addObserver)(this),this.showPeople=this.showPeople.bind(this)}connectedCallback(){return n(this,void 0,void 0,(function*(){console.log("Hola");const e=yield(0,d.getFilmList)();(0,c.dispatch)(e);const t=c.appState.films.map((e=>n(this,void 0,void 0,(function*(){var t;const i=this.ownerDocument.createElement("single-card-film");i.setAttribute(r.Attribute.Title,e.title),i.setAttribute(r.Attribute.original_title,e.original_title),i.setAttribute(r.Attribute.release_date,e.release_date),i.setAttribute(r.Attribute.description,e.description),i.setAttribute(r.Attribute.director,e.director),i.setAttribute(r.Attribute.people,JSON.stringify(e.people)),null===(t=this.cards)||void 0===t||t.push(i)}))));yield Promise.all(t);const i=c.appState.favoriteFilms.map((e=>n(this,void 0,void 0,(function*(){var t;const i=this.ownerDocument.createElement("single-card-film");i.setAttribute(r.Attribute.Title,e.title),i.setAttribute(r.Attribute.original_title,e.original_title),i.setAttribute(r.Attribute.release_date,e.release_date),i.setAttribute(r.Attribute.description,e.description),i.setAttribute(r.Attribute.director,e.director),null===(t=this.favoriteCards)||void 0===t||t.push(i)}))));yield Promise.all(i),this.render()}))}favoriteList(){console.log("Favorite List")}showPeople(e){return n(this,void 0,void 0,(function*(){var t;console.log("showPeople");const i=yield(0,l.getPeople)(e),n=this.ownerDocument.createElement("single-card-people");n.setAttribute(a.AttributePeople.name,i.name),n.setAttribute(a.AttributePeople.gender,i.gender),null===(t=this.peopleList)||void 0===t||t.push(n),this.renderPeople()}))}renderPeople(){var e;this.shadowRoot&&(null===(e=this.peopleList)||void 0===e||e.forEach((e=>{var t;null===(t=this.shadowRoot)||void 0===t||t.appendChild(e)})))}render(){var e,t,i;this.shadowRoot&&(null===(e=this.cards)||void 0===e||e.forEach((e=>{var t,i,n;const o=this.ownerDocument.createElement("button");o.textContent="Add Favorites",o.addEventListener("click",(()=>{(0,c.dispatch)((0,d.AddFavoriteFilm)({payload:{Title:e.Title,original_title:e.original_title,release_date:e.release_date,description:e.description,director:e.director}})),console.log(c.appState)})),null===(t=this.shadowRoot)||void 0===t||t.appendChild(o),null===(i=this.shadowRoot)||void 0===i||i.appendChild(e);const r=this.ownerDocument.createElement("button");r.textContent="Show People",r.addEventListener("click",(()=>{var t;null===(t=e.people)||void 0===t||t.forEach((e=>{this.showPeople(e)}))})),null===(n=this.shadowRoot)||void 0===n||n.appendChild(r)})),null===(t=this.favoriteCards)||void 0===t||t.forEach((e=>{var t;null===(t=this.shadowRoot)||void 0===t||t.appendChild(e)})));const n=this.ownerDocument.createElement("styles");n.innerHTML=s.default,null===(i=this.shadowRoot)||void 0===i||i.appendChild(n)}}customElements.define("app-container",u)},997:function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.showPeople=t.AddFavoriteFilm=t.getFilmList=void 0;const o=i(155),r=i(462);t.getFilmList=()=>n(void 0,void 0,void 0,(function*(){const e=yield(0,r.getFilms)();return{action:o.filmActions.GET,payload:e}})),t.AddFavoriteFilm=({payload:e})=>({action:o.favoriteFilmsActions.ADD,payload:e}),t.showPeople=({payload:e})=>({action:o.peopleActions.SHOW,payload:e})},482:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addObserver=t.dispatch=t.appState=void 0;const n=i(950);t.appState={films:[],favoriteFilms:[],peopleList:[]};let o=[];t.dispatch=e=>{const i=JSON.parse(JSON.stringify(t.appState));t.appState=(0,n.reducer)(e,i),o.forEach((e=>e.render()))},t.addObserver=e=>{o=[...o,e]}},950:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;const n=i(155);t.reducer=(e,t)=>{const{action:i,payload:o}=e;switch(i){case n.favoriteFilmsActions.ADD:return Object.assign(Object.assign({},t),{favoriteFilms:[o,...t.favoriteFilms]});case n.filmActions.GET:return Object.assign(Object.assign({},t),{films:o});case n.peopleActions.SHOW:return Object.assign(Object.assign({},t),{peopleList:o});default:return t}}},155:(e,t)=>{var i,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.filmActions=t.favoriteFilmsActions=t.peopleActions=void 0,function(e){e.SHOW="SHOW"}(i||(t.peopleActions=i={})),function(e){e.ADD="ADD"}(n||(t.favoriteFilmsActions=n={})),function(e){e.GET="GET"}(o||(t.filmActions=o={}))}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(156)})();